
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Point Information Referencing &#8212; PostHydro 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Spatial Information Referencing" href="informationreferencing_spatialinfo.html" />
    <link rel="prev" title="Information Referencing" href="informationreferencing.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="point-information-referencing">
<h1>Point Information Referencing<a class="headerlink" href="#point-information-referencing" title="Permalink to this headline">¶</a></h1>
<p>The reference of a point or linear characteristic is done by adding water stream location information (reach id, pfafstetter code, river code and name, distance to the river and basin mouths) as new columns on the original point table (or on a table of the linear characteristic).</p>
<p>The process of point information referencing consists on the linear referencing of a point on the nearest reach on the database to which it refers. Some of the points to be referenced do not lie on a represented reach, but instead are located on a non represented reach, upstream of a specific point on one of the represented reaches. These points can also be indirectly referenced to the reaches, once their corresponding influence points are provided.</p>
<p>The process of referencing of a specific point feature is generic. It takes as input a generic table called pts_direct_indirect, where the point key, name and geometry are provided, besides the hydroreferencing form (‘direct’ or ‘indirect’) and the additional influence point geometry, if the referencing form is indirect.</p>
<p>The hydroref_points procedure generates the generic hydroref_points table, with point key, name, geometry and hydroreference form, plus information on its location on the hydrography reach database (id and pfafstetter code of the reach, distance along the hydrography to the basin mouth, river code, name and distance to the river mouth, if available, distance between the direct or indirect point and the exact point on the geometry of the reach and the geometry of the exact point on the hydrography reach).</p>
<p>The locating information is transfered from the hydroref_points table to the point feature specific table, as additional columns.</p>
<section id="tables">
<h2>Tables<a class="headerlink" href="#tables" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Points to Hydroreference (pts_direct_indirect table)</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 30%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>field name</p></th>
<th class="head"><p>field type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>gid</p></td>
<td><p>integer</p></td>
<td><p>point id (primary key)</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>text</p></td>
<td><p>point name</p></td>
</tr>
<tr class="row-even"><td><p>hydroref_form</p></td>
<td><p>text</p></td>
<td><p>hydroreference form: ‘direct’ or ‘indirect’</p></td>
</tr>
<tr class="row-odd"><td><p>geom_ind</p></td>
<td><p>geometry(Point)</p></td>
<td><p>indirect point geometry (if indirect)</p></td>
</tr>
<tr class="row-even"><td><p>geom</p></td>
<td><p>geometry(Point)</p></td>
<td><p>point geometry</p></td>
</tr>
</tbody>
</table>
<p>—</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Hydroreferenced Points (hydroref_points table)</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 30%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>field name</p></th>
<th class="head"><p>field type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>integer</p></td>
<td><p>point id (primary key)</p></td>
</tr>
<tr class="row-odd"><td><p>ptname</p></td>
<td><p>text</p></td>
<td><p>point name</p></td>
</tr>
<tr class="row-even"><td><p>hydroref_form</p></td>
<td><p>text</p></td>
<td><p>point hydroreferencing form: ‘direct’ if on a represented reach or ‘indirect’ if just upstream of a reach</p></td>
</tr>
<tr class="row-odd"><td><p>reachid</p></td>
<td><p>integer</p></td>
<td><p>point reach code (direct) or first downstream point on a represented reach (indirect)</p></td>
</tr>
<tr class="row-even"><td><p>pfcode</p></td>
<td><p>text</p></td>
<td><p>point reach pfafstetter code</p></td>
</tr>
<tr class="row-odd"><td><p>rivcode</p></td>
<td><p>text</p></td>
<td><p>point river code</p></td>
</tr>
<tr class="row-even"><td><p>rivname</p></td>
<td><p>text</p></td>
<td><p>point river name</p></td>
</tr>
<tr class="row-odd"><td><p>lngthrivmouth</p></td>
<td><p>double precision</p></td>
<td><p>point length to the river mouth in km</p></td>
</tr>
<tr class="row-even"><td><p>lngthtomouth</p></td>
<td><p>double precision</p></td>
<td><p>point length to the basin mouth in km</p></td>
</tr>
<tr class="row-odd"><td><p>hydroref_dist</p></td>
<td><p>double precision</p></td>
<td><p>informed point distance to the nearest point on a represented reach in km</p></td>
</tr>
<tr class="row-even"><td><p>geom_hr</p></td>
<td><p>geometry(Point)</p></td>
<td><p>geometry of the the nearest point on a represented reach</p></td>
</tr>
<tr class="row-odd"><td><p>geom</p></td>
<td><p>geometry(Point)</p></td>
<td><p>geometry of the the point</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedures-and-functions">
<h2>Procedures and Functions<a class="headerlink" href="#procedures-and-functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="hydroref_points">
<span class="sig-name descname"><span class="pre">hydroref_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_dist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hydroref_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Create table hydroref_points, from locating points, on pts_direct_indirect table, on the nearest reach of the hydrography table
Points on the  pts_direct_indirect table have an id, name, a geometry, a hydroreference form (‘direct’ or ‘indirect’)
and, if the point’s reach is not represented in the hydrography (‘indirect’ form), the geometry of the point’s influence
point on the hydrography, that is, the nearest downstream point on the represented hydrography.
The hydroref_points table has the id, name, real geometry and hydroreference form of the point, plus its location in the hydrography
table (id and pfafstetter code of the reach, distance along the hydrography to the basin mouth, river code, name and distance
to the river mouth, if available, distance between the direct or indirect point and the exact point on the geometry of the reach,
plus the geometry of the exact point on the hydrography.
To account for the rare cases in which there are representation errors in the hydrography that would lead to error in the
hydroreference of the point, a hydref_disregard table, with the id of the reaches that should not be considered in the process, is
provided. The search for the hydrography reaches is done within a max_dist distance of the point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_dist</strong> (<em>double precision</em>) – search radius when looking for a point coastline</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PostHydro</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="informationstructure.html">Information Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="pfafstettercoding.html">Pfafstetter Coding</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="capabilities.html">PostHydro Capabilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="structurebuilding.html">Structure Building</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="informationreferencing.html">Information Referencing</a></li>
<li class="toctree-l2"><a class="reference internal" href="upstreamdownstreamnavigation.html">Upstream Downstream Navigation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="desktopclient.html">Desktop Client</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="capabilities.html">PostHydro Capabilities</a><ul>
  <li><a href="informationreferencing.html">Information Referencing</a><ul>
      <li>Previous: <a href="informationreferencing.html" title="previous chapter">Information Referencing</a></li>
      <li>Next: <a href="informationreferencing_spatialinfo.html" title="next chapter">Spatial Information Referencing</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, Flavio Lyra.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/informationreferencing_pointinfo.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
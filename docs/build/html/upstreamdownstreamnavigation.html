
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Upstream Downstream Navigation &#8212; PostHydro 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Desktop Client" href="desktopclient.html" />
    <link rel="prev" title="Spatial Information Referencing" href="informationreferencing_spatialinfo.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="upstream-downstream-navigation">
<h1>Upstream Downstream Navigation<a class="headerlink" href="#upstream-downstream-navigation" title="Permalink to this headline">¶</a></h1>
<p>These are the functions that extend the ordinary relational database querying capabilities to the surface water domain. One of them gives as result the set of contributing area ids corresponding to the areas upstream and including that of the reach (up_areas), two others the set of ids of the upstream reaches to a given reach, including it (up_reaches), and the set of ids of the downstream reaches (down_reaches). The reach in the argument of these functions is described in a unique way by its pfafstetter code (which works as a water domain index) and the distance of its upstream point to the mouth. The remaining are auxiliary functions.</p>
<section id="types">
<h2>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Downstream Stream - Upper Limit Tuple (downstreach)</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 30%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>field name</p></th>
<th class="head"><p>field type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>stream</p></td>
<td><p>text</p></td>
<td><p>main stream pfafstetter code</p></td>
</tr>
<tr class="row-odd"><td><p>upstrbasin</p></td>
<td><p>most upstream point pfafstetter code</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>—</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Watershed Downstream - Upstream Range (uplimits)</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 30%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>field name</p></th>
<th class="head"><p>field type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>codeup</p></td>
<td><p>text</p></td>
<td><p>most upstream pfafstetter code</p></td>
</tr>
<tr class="row-odd"><td><p>codedown</p></td>
<td><p>text</p></td>
<td><p>most downstream pfafstetter code</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedures-and-functions">
<h2>Procedures and Functions<a class="headerlink" href="#procedures-and-functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="upbounds">
<span class="sig-name descname"><span class="pre">upbounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pfcode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#upbounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a Pfafstetter code pfcode, generate an uplimits record with the downstream inclusive (codedown) and upstream (codeup) pfcodes
boundaries of the basin upstream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pfcode</strong> (<em>text</em>) – downstream pfafstetter code</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>limits</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>uplimits</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
<dl class="py function">
<dt class="sig sig-object py" id="total_down_reaches">
<span class="sig-name descname"><span class="pre">total_down_reaches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prev_id_reaches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_reach</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#total_down_reaches" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a reach pfafstetter code (code) and distance to the mouth (dist) and an array of reach codes already found
on a downstream path, adds to the array those reaches, not already on the array, corresponding to reaches downstream
of the divergences nodes (on the divergences table) found on the downstream path (including the one corresponding to pfcode and
dist, if first_reach is true)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>text</em>) – reach pfafstetter code</p></li>
<li><p><strong>dist</strong> (<em>double precision</em>) – reach upstream point distance to the basin mouth</p></li>
<li><p><strong>prev_id_reaches</strong> (<em>array of integer</em>) – array of previously found reaches ids on the downstream path</p></li>
<li><p><strong>first_reach</strong> (<em>boolean</em>) – signals this is the first reach on a downstream path, to be added to the array of ids, if true</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>out_idd_reaches</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of integer</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
<dl class="py function">
<dt class="sig sig-object py" id="up_areas">
<span class="sig-name descname"><span class="pre">up_areas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pfcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#up_areas" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a set of contributing area ids corresponding to the reaches upstream, and including, the one whose pfafstetter code is
pfcode and distance of the upstream point to the mouth is dist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pfcode</strong> (<em>text</em>) – reach pfafstetter code</p></li>
<li><p><strong>dist</strong> (<em>double precision</em>) – reach upstream point distance to the basin mouth</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>areaid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>set of integer</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
<dl class="py function">
<dt class="sig sig-object py" id="up_reaches">
<span class="sig-name descname"><span class="pre">up_reaches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pfcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#up_reaches" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a set of reaches ids corresponding to the reaches upstream, and including, the one whose pfafstetter code is
pfcode and distance of the upstream point to the mouth is dist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pfcode</strong> (<em>text</em>) – reach pfafstetter code</p></li>
<li><p><strong>dist</strong> (<em>double precision</em>) – reach upstream point distance to the basin mouth</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>set of integer</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
<dl class="py function">
<dt class="sig sig-object py" id="down_reaches">
<span class="sig-name descname"><span class="pre">down_reaches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#down_reaches" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a reach Pfafstetter code (code) and distance to the mouth (dist),
return the set of ids of the reaches in the downstream main stream segments corresponding to its main downstream path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>character varying</em>) – reach pfafstetter code</p></li>
<li><p><strong>dist</strong> (<em>double precision</em>) – reach upstream point distance to the basin mouth</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>set of integer</p>
</dd>
</dl>
</dd></dl>

<p>—</p>
<dl class="py function">
<dt class="sig sig-object py" id="downpath">
<span class="sig-name descname"><span class="pre">downpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pfcode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#downpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpret pfcode and generate a set of downstreach records,
each corresponding to a mainstream segment found on the way from pfcode to the mouth
of the basin, with their mainstream code (stream) and its upper reach code limit (upstrbasin)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pfcode</strong> (<em>character varying</em>) – Pfafstetter code to be interpreted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>down</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>set of downstreach records</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PostHydro</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="informationstructure.html">Information Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="pfafstettercoding.html">Pfafstetter Coding</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="capabilities.html">PostHydro Capabilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="structurebuilding.html">Structure Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="informationreferencing.html">Information Referencing</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Upstream Downstream Navigation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="desktopclient.html">Desktop Client</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="capabilities.html">PostHydro Capabilities</a><ul>
      <li>Previous: <a href="informationreferencing_spatialinfo.html" title="previous chapter">Spatial Information Referencing</a></li>
      <li>Next: <a href="desktopclient.html" title="next chapter">Desktop Client</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, Flavio Lyra.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/upstreamdownstreamnavigation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>